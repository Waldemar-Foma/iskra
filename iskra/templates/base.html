<!-- templates/base.html - –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Å —Ñ–∞–≤–∏–∫–æ–Ω–æ–º –∏ —Ä—É—Å—Å–∫–∏–º —è–∑—ã–∫–æ–º -->
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
    <title>Eternis - –°–∏–º—É–ª—è—Ç–æ—Ä —Ü–∏—Ñ—Ä–æ–≤—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤</title>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='45' fill='%23027C7D'/%3E%3Ccircle cx='35' cy='35' r='8' fill='%23E6006A'/%3E%3Ccircle cx='65' cy='35' r='8' fill='%23E6006A'/%3E%3Cpath d='M30 65 Q50 80 70 65' stroke='white' stroke-width='4' fill='none'/%3E%3C/svg%3E">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <!-- –ó–∞—Ç–µ–º–Ω–µ–Ω–∏–µ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–æ–º –º–µ–Ω—é -->
    <div class="menu-overlay" id="menuOverlay"></div>

    <!-- –•–µ–¥–µ—Ä -->
    <header class="site-header">
        <div class="header-content">
            <button class="hamburger" id="hamburgerBtn" aria-label="–ú–µ–Ω—é">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <div class="header-title">
                <span class="logo">Eternis</span>
                <span class="version">beta</span>
            </div>
            <div class="header-status" id="worldStatus">
                <span class="status-dot"></span>
                <span class="status-text">–°–∏–º—É–ª—è—Ü–∏—è –∞–∫—Ç–∏–≤–Ω–∞</span>
            </div>
        </div>
    </header>

    <!-- –ú–µ–Ω—é -->
    <nav class="menu" id="menu">
        <div class="menu-header">
            <div class="menu-logo">Eternis</div>
            <button class="menu-close" id="menuClose">‚úï</button>
        </div>
        <ul class="menu-items">
            <li><a href="{{ url_for('index') }}">üè† –ì–ª–∞–≤–Ω–∞—è</a></li>
            <li><a href="{{ url_for('graphs') }}">üï∏Ô∏è –ì—Ä–∞—Ñ —Å–≤—è–∑–µ–π</a></li>
            <li><a href="{{ url_for('logs') }}">üìã –õ–æ–≥–∏ —Å–æ–±—ã—Ç–∏–π</a></li>
            <li><a href="{{ url_for('world') }}">üåç –ú–∏—Ä –∞–≥–µ–Ω—Ç–æ–≤</a></li>
            {% if is_logged_in() %}
                <li class="menu-divider"></li>
                <li><a href="{{ url_for('profile') }}">üë§ –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</a></li>
                <li><a href="{{ url_for('logout') }}">üö™ –í—ã—Ö–æ–¥</a></li>
            {% else %}
                <li class="menu-divider"></li>
                <li><a href="{{ url_for('login') }}">üîë –í—Ö–æ–¥</a></li>
                <li><a href="{{ url_for('register') }}">üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a></li>
            {% endif %}
        </ul>
        <div class="menu-footer">
            <div class="system-time" id="systemTime"></div>
        </div>
    </nav>

    <!-- Flash —Å–æ–æ–±—â–µ–Ω–∏—è -->
    <div class="flash-container" id="flashContainer">
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <div class="flash-message {{ category }}">
                        <span class="flash-icon">{{ '‚úì' if category == 'success' else '‚ö†' }}</span>
                        <span class="flash-text">{{ message }}</span>
                        <button class="flash-close">‚úï</button>
                    </div>
                {% endfor %}
            {% endif %}
        {% endwith %}
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <main>
        {% block content %}{% endblock %}
    </main>

    <!-- –§—É—Ç–µ—Ä -->
    <footer class="site-footer">
        <div class="footer-content">
            <div class="footer-section">
                <h4>Eternis</h4>
                <p>–°–∏–º—É–ª—è—Ç–æ—Ä —Ü–∏—Ñ—Ä–æ–≤—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤</p>
                <p class="copyright">¬© 2026 Eternis by AXL</p>
            </div>
            <div class="footer-section">
                <h4>–ù–∞–≤–∏–≥–∞—Ü–∏—è</h4>
                <ul>
                    <li><a href="{{ url_for('index') }}">–ì–ª–∞–≤–Ω–∞—è</a></li>
                    <li><a href="{{ url_for('graphs') }}">–ì—Ä–∞—Ñ —Å–≤—è–∑–µ–π</a></li>
                    <li><a href="{{ url_for('logs') }}">–õ–æ–≥–∏</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4>–°—Ç–∞—Ç—É—Å</h4>
                <div class="status-indicator">
                    <span class="pulse"></span>
                    <span id="agentCount">0</span> –∞–≥–µ–Ω—Ç–æ–≤ –∞–∫—Ç–∏–≤–Ω–æ
                </div>
                <div class="world-cycle" id="worldCycle">–¶–∏–∫–ª: 0</div>
            </div>
        </div>
    </footer>

    <!-- –ú–æ–±–∏–ª—å–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è -->
    <nav class="mobile-nav">
        <a href="{{ url_for('index') }}" class="mobile-nav-item" data-icon="üè†">–ì–ª–∞–≤–Ω–∞—è</a>
        <a href="{{ url_for('graphs') }}" class="mobile-nav-item" data-icon="üï∏Ô∏è">–ì—Ä–∞—Ñ</a>
        <a href="{{ url_for('logs') }}" class="mobile-nav-item" data-icon="üìã">–õ–æ–≥–∏</a>
        <a href="{{ url_for('world') }}" class="mobile-nav-item" data-icon="üåç">–ú–∏—Ä</a>
        <a href="{{ url_for('profile') if is_logged_in() else url_for('login') }}" class="mobile-nav-item" data-icon="üë§">–ü—Ä–æ—Ñ–∏–ª—å</a>
    </nav>

    <!-- –ö–Ω–æ–ø–∫–∞ –Ω–∞–≤–µ—Ä—Ö -->
    <button class="back-to-top" id="backToTop" aria-label="–ù–∞–≤–µ—Ä—Ö">‚Üë</button>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>